<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Folderize Me Capt'n &mdash; Daniel Spector</title>
    <link href="https://fonts.googleapis.com/css?family=Droid+Sans:400,700" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="/assets/main.css">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    <link rel="apple-touch-icon" href="/images/logo.png"/>
    <link href="/feed.xml" rel="alternate" type="application/rss+xml" title="Daniel Spector" />
    <meta name="title" content="Folderize Me Capt'n ">
    <link rel="canonical" href="www.spector.io/2014/04/06/folderize-me-captn/">
     
           
    <meta property="og:title" content="Folderize Me Capt'n "/>
    <meta property="og:url" content="www.spector.io/2014/04/06/folderize-me-captn/"/>
    
    
    <meta property="og:description" content="The Wild West of the Ruby File Structure"/>
    <meta name="description" content="The Wild West of the Ruby File Structure"/>
    
    <meta property="og:site_name" content="Daniel Spector">     
</head>
<body>
    
<section class="site-nav">
    <header>
        <nav id="navigation">
            <a class="brand" href="/">
                <img src="/images/logo.png" alt="Inc">
            </a>
            <a href="/" class="home">Blog</a>
            <a href="www.spector.io">Product</a>
            <a href="www.flatironschool.com">About</a>
        </nav>
       <!--  <nav class="tagline">
            <span>Just a guy loving programming.</span>
            <a href="www.spector.io" class="btn btn-outline">Learn More</a> -->
        </nav>
    </header>
</section>


<article>

    <div class="container">
        <header>
            <div class="meta">
                By <address><a rel="author" href="" title="Daniel Spector" target="_blank">Daniel Spector</a></address> &mdash;
                <time pubdate datetime="2014-06-April" title="April 06, 2014">April 06, 2014</time>
            </div>
            <h1 class="title">Folderize Me Capt'n</h1>
            
        </header>

        <section>
            <p>All groups will eventually agree on a code, a set of rules that they can use to communicate with each other. To outsiders, these codes may look inscrutable, but to those on the inside its almost a way of life. Rubyists around the world have largely agreed to a file structure when creating Ruby programs and scripts. When I first encountered the file structure I was lost and confused, wandering around from file to file not sure of what I was looking like. After spending some time working in and creating ruby file structures, I’m more comfortable than ever. It’s my hope that after reading you’ll feel the same.</p>

<p>The standard Ruby file structure looks something like this:</p>
<div class='highlight'><pre><code class='yaml'><span class='err'>%</span> <span class='l-Scalar-Plain'>project_root</span>
<span class='l-Scalar-Plain'>├── bin</span>
<span class='l-Scalar-Plain'>│ └── generate</span>
<span class='l-Scalar-Plain'>├── config</span>
<span class='l-Scalar-Plain'>| └── environment.rb</span>
<span class='l-Scalar-Plain'>├── lib</span>
<span class='l-Scalar-Plain'>| └── project_file.rb</span>
<span class='l-Scalar-Plain'>├── spec</span>
<span class='l-Scalar-Plain'>| └── spec_helper.rb</span>
<span class='l-Scalar-Plain'>└── .rspec</span>
<span class='l-Scalar-Plain'>└── Gemfile</span>
<span class='l-Scalar-Plain'>└── Gemfile.lock</span>
<span class='l-Scalar-Plain'>└── README.md</span>
<span class='l-Scalar-Plain'>└── Rakefile</span>
</code></pre></div>
<p>The file structure exists as a way to organize our code and keep it DRY. DRY stands for “Don’t Repeat Yourself” which means we want to avoid duplication like the plague. The file structure allows each folder to have a specific job, making debugging easier. Let’s explore each of folders above and hope to tease out some more meaning.</p>

<p>Bin — The bin directory is usually reserved for executable files. Ad you can see above, the bin directory has one file in our example, generate, which we would make executable. Most Rubyists will create an executable file that actually runs their code, rather than having the code run on its own. This keeps the execution of our code separate from the formulation of our code, allowing us to debug when we find problems.</p>

<p>Config — The config directory is used for configuration files. You can have as few or as many config files as you’d like. Most of the time its best to keep all of your configuration in one file which we called environment.rb. In here we “require” all of our files which lets each part of the program talk to one another other. Just placing files in the same folder is not enough, we need to explicitly tell our files that they can talk to each other. Additionally, we would include any libraries we need as well as set up our database structure. You can think of the Config folder as your Ruby version of Grand Central Station — A central meeeting point so everyone can get to where they need to get.</p>

<p>Lib — This is where the heart of our program will live. The lib folder will often have many subdirectories, each relating to a different part of the program. Additionally, while not pictured above, there may additional folders in the lib directory which relate to abstracted code from our program such as modules. In Rubyland, these would usually go in a directory called “concerns”.</p>

<p>Spec — This is where all of our tests will live. I’m using the RSpec testing framework but you can use any framework that you’re comfortable with. The spec folder will often contain dozens of testing files, each testing a separate part of your code. Most testing files are named after the file that they are testing along with <em>spec at the end of the filename. For example, if we were testing a file from our lib directory called artist.rb, we would probably call our matching test file artist</em>spec.rb. We generate the spec_helper.rb file that you see above by running</p>
<div class='highlight'><pre><code class='bash'><span class='nv'>$ </span>rspec --init
</code></pre></div>
<p>in our project root, which also creates a .rspec file. These two files allow us to configure RSpec and tweak to our needs so we can test our files. Most importantly, we need to make sure that our testing files know about all the other files in the file structure so we would make sure to require the environment.rb file we discussed earlier at the top of our spec_helper.rb file.</p>

<p>Gemfile &amp; Gemfile.lock — Gems are a really convenient way for Rubyists to pass around and share code. As I discussed in a previous blog post, Gems are often indispensable to the function of ourprogram and we want to make sure that we are including the gems we want and managing them properly. A really clever program called Bundler allows us to manage the gems we’ll be needing in our program. To get set up with a Gemfile in your program run</p>
<div class='highlight'><pre><code class='bash'><span class='nv'>$ </span>bundle init
</code></pre></div>
<p>which will create the Gemfile that you see in the directory above. Once you’ve added the gems that you need in your program, run</p>
<div class='highlight'><pre><code class='bash'><span class='nv'>$ </span>bundle
</code></pre></div>
<p>and the Gemfile.lock file will be created which makes sure that your program is running the correct gems at all times. Any additional gems required can be added to the Gemfile. It is very important to run the bundle command as seen above every time you make a change to your Gemfile.</p>

<p>README.md — This is optional for your program, but highly recommended if you will be sharing your code with others. Many programmers spend so much time with their own programs that they have an intuitive sense of how it operates. However, others who stumble on to your code may feel quite differently. It’s important to properly document the functionality of your program so it will be accessible to as many people as possible.</p>

<p>Rakefile — Finally, we arrive at our Rakefile, which allows us to to run custom tasks for our program. While a full discussion of Rake is beyond the scope of this post, be aware that many Ruby programs rely on Rake tasks to run and set a lot of their functionality. These Rake tasks are set in the Rakefile.</p>

<p>An Easier Way — Folderize Wow! That’s a lot of folders! When getting started on a Ruby program, it takes a long time to create all the directories and files, making sure that they talk to each other. Luckily, there’s another way. To automate the process, I created a gem called Folderize which creates the directory structure discussed above. To install it, go to your terminal and type</p>
<div class='highlight'><pre><code class='bash'><span class='nv'>$ </span>gem install folderize
</code></pre></div>
<p>Once the gem is installed, make a new directory that your Ruby project will live in. Instead of spending time creating the folders and files listed above, just run:</p>
<div class='highlight'><pre><code class='bash'><span class='nv'>$ </span>folderize
</code></pre></div>
<p>After a brief pause, you should have a complete working file structure like you see above. Happy coding!</p>

<p>Please keep in mind that the above is a general guide to creating a Ruby file structure and should not be regarded as a canonical source. There can be an infinite amount of variation from what’s listed above but by using Folderize you will be off to a great start.</p>

<p>The code for the gem can be found at Github. Pull requests are welcome. As always, I appreciate any feedback you may have about the blog post or the gem itself. You can reach me on Twitter @danielspecs</p>
            
        </section>

        <footer>
            <address>
               
                <p>Written by <strong><a rel="author" href="https://twitter.com/danielspecs" title="" target="_blank">Daniel Spector</a></strong><br>
                <span class="muted"></span>
                </p>
            </address>

        </footer>

        
    </div>
</article>


<footer class="site-footer">
    <div class="container">
        &copy; 2014 
        
        <nav>
            <a href="www.spector.io">Daniel Spector</a> &middot;
            <a href="/">Blog</a> &middot;
            <a href="www.spector.io">Product</a> &middot; 
            <a href="www.flatironschool.com">About</a>
        </nav>
        
        <nav class="social">
            
            <a href="https://twitter.com/danielspecs" title="Follow on Twitter" target="_blank"><i class="icon icon-twitter black"></i></a>
            
            
            <a href="http://facebook.com/danielspector" title="Follow on Facebook" target="_blank"><i class="icon icon-facebook black"></i></a>
                
            <a href="/feed.xml" title="RSS Feed">
                <i class="icon icon-rss black"></i>
            </a>
        </nav>
        <p>Incorporated theme by <a href="https://sendtoinc.com">Inc</a></p>
    </div>
</footer>

<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
<script src="/assets/main.js"></script>







</body>
</html>
